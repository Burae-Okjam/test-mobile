// API 관련 함수들을 모아둔 모듈

/**
 * 서버에서 질문 목록을 가져옵니다.
 * 실패할 경우 기본 샘플 데이터를 반환합니다.
 */
export async function fetchQuestions() {
  try {
    const response = await fetch('/api/questions');
    if (!response.ok) throw new Error('질문을 불러오지 못했습니다.');
    return await response.json();
  } catch (err) {
    console.error(err);
    // 개발용 기본 질문 (24문항 풀세트)
    return [
      { id: 1, text: '나는 다른 사람의 표정·말투 변화를 금방 알아차린다.', key: 'E' },
      { id: 2, text: '팀 내 갈등이 생기면 중재자 역할을 자주 한다.', key: 'E' },
      {
        id: 3,
        text: '중요한 결정을 내릴 때, 타인의 기분과 상황을 먼저 고려한다.',
        key: 'E',
      },
      { id: 4, text: '주변 사람이 힘들어하면 먼저 다가가 위로한다.', key: 'E' },
      {
        id: 5,
        text: '새로운 환경에서는 분위기를 살피고 적응하려는 편이다.',
        key: 'E',
      },
      {
        id: 6,
        text: '말할 때 상대방이 상처받지 않도록 단어를 조심한다.',
        key: 'E',
      },
      {
        id: 7,
        text: '내 선택이 다른 사람에게 어떤 영향을 줄지 먼저 떠올린다.',
        key: 'E',
      },
      { id: 8, text: '친한 사람이 속상해하면 내 일처럼 마음이 쓰인다.', key: 'E' },
      {
        id: 9,
        text: '팀원들의 사소한 피드백도 놓치지 않으려 한다.',
        key: 'E',
      },
      { id: 10, text: '조용히 배려하는 행동을 자주 한다.', key: 'E' },
      {
        id: 11,
        text: '누군가 힘들어도 도와달라고 말하지 않으면 직접 나서기가 망설여진다.',
        key: 'E',
        reverse: true,
      },
      {
        id: 12,
        text: '나는 관계에서 조화가 깨지는 상황을 크게 신경 쓴다.',
        key: 'E',
      },
      { id: 13, text: '나는 결정을 신속하고 단호하게 내린다.', key: 'T' },
      {
        id: 14,
        text: '목표를 정하면 끝까지 추진하려는 성향이 강하다.',
        key: 'T',
      },
      { id: 15, text: '토론할 때는 감정보다 논리와 근거가 중요하다.', key: 'T' },
      { id: 16, text: '새로운 도전은 위험보다 가능성이 먼저 보인다.', key: 'T' },
      { id: 17, text: '경쟁 상황은 나를 더 집중하게 만든다.', key: 'T' },
      { id: 18, text: '나는 내 의견을 직설적으로 표현하는 편이다.', key: 'T' },
      { id: 19, text: '계획이 틀어지면 즉시 대안을 마련한다.', key: 'T' },
      { id: 20, text: '효율이 떨어지면 방법을 바꾸거나 개선한다.', key: 'T' },
      { id: 21, text: '감정적으로 휘둘리기보다는 사실을 우선한다.', key: 'T' },
      { id: 22, text: '다른 사람의 눈치를 보기보다 내 방식대로 한다.', key: 'T' },
      { id: 23, text: '상대방이 결정이 느리면 답답함을 느낀다.', key: 'T' },
      { id: 24, text: '나는 타협보다 명확한 결론을 더 선호한다.', key: 'T' },
    ];
  }
}
